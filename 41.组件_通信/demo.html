<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../vue.js"></script>
</head>
<body>
    <div id="app">
        <my-cmp></my-cmp>
        <my-cmp1></my-cmp1>
    </div>
    <script>
        Vue.prototype.$bus = new Vue();
        Vue.component('my-cmp',{
            provide(){
                return {
                    num: this.num
                }
            },
            data(){
                return {
                    num: 456
                }
            },
            mounted(){
                // console.log(this.$listeners);
                // this.$listeners.click(this.num)
                // console.log(this.$root.msg);
                // console.log(this.$children[0].num2);
                // console.log(this.$refs);
            },
            methods:{
                handleClick(){
                    this.$bus.$emit('abc',this.num)
                }
            },
            template:`
                <div>
                    我们是my-cmp组件
                    <button @click="handleClick">点击</button>
                </div>
            `
        })
        Vue.component('my-cmp1',{
            // inject:['num'],
            // data(){
            //     return {
            //         num2: 789
            //     }
            // },
            mounted(){
                // console.log(this.num);
                this.$bus.$on('abc',(e) => {
                    console.log(e);
                })
            },
            template: `
                <div>这是my-cmp1组件</div>
            `
        })
        const vm = new Vue({
            el: '#app',
            data:{
                msg: 'abc',
            },
            methods: {
                handleClick(e){
                    console.log(e);
                }
            }
        })
    </script>
</body>
</html>